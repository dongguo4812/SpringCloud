



Zipkin是一种分布式链路跟踪系统图形化的工具，Zipkin 是 Twitter 开源的分布式跟踪系统，能够收集微服务运行过程中的实时调用链路信息，并能够将这些调用链路信息展示到Web图形化界面上供开发人员分析，开发人员能够从ZipKin中分析出调用链路中的性能瓶颈，识别出存在问题的应用程序，进而定位问题和解决问题。

官网：https://zipkin.io/

![image-20240401160359422](https://gitee.com/dongguo4812_admin/image/raw/master/image/202404011741059.png)



# 为什么有了Sleuth/Micrometer,还需要Zipkin？

![image-20240401160632622](https://gitee.com/dongguo4812_admin/image/raw/master/image/202404011741372.png)

说明：

当没有配置 Sleuth 链路追踪的时候，INFO 信息里面是 [passjava-question,,,]，后面跟着三个空字符串。

当配置了 Sleuth 链路追踪的时候，追踪到的信息是 [passjava-question,504a5360ca906016,e55ff064b3941956,false] ，第一个是 Trace ID，第二个是 Span ID。

但是只有日志没有图形，观查不方便，所以引入图形化Zipkin链路监控

# 下载Zipkin

下载地址：https://zipkin.io/pages/quickstart

![image-20240401161048250](https://gitee.com/dongguo4812_admin/image/raw/master/image/202404011741382.png)

点击Java下latest release进行下载，下载下来的是一个jar包zipkin-server-3.1.1-exec.jar

在jar包所在目录使用cmd执行

```shell
java -jar zipkin-server-3.1.1-exec.jar
```

报错提示：因为必须在java17或更高的版本运行

![image-20240401162011733](https://gitee.com/dongguo4812_admin/image/raw/master/image/202404011741557.png)

你可以修改环境变量，不过我的系统中有多个java版本，就不去修改环境变量了，只是在命令中指定java17

```shell
"E:\software\java\jdk\jdk-17.0.1\bin\java" -jar zipkin-server-3.1.1-exec.jar
```



![image-20240401163824562](https://gitee.com/dongguo4812_admin/image/raw/master/image/202404011741921.png)

访问给出的网址http://localhost:9411，到达Zipkin首页

![image-20240401164325766](https://gitee.com/dongguo4812_admin/image/raw/master/image/202404011741309.png)