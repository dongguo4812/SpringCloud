# 为什么不再使用sleuth

sleuth目前也进入了维护模式，官方推荐 [Micrometer Tracing](https://micrometer.io/docs/tracing) 

![image-20240401133942895](F:\note\image\image-20240401133942895.png)

springboot3.x版本无法再使用sleuth

![image-20240401140825924](F:\note\image\image-20240401140825924.png)

# 分布式链路追踪简介

在微服务框架中，一个由客户端发起的请求在后端系统中会经过多个不同的的服务节点调用来协同产生最后的请求结果，每一个前段请求都会形成一条复杂的分布式服务调用链路，链路中的任何一环出现高延时或错误都会引起整个请求最后的失败。

![img](https://www.51sjk.com/Upload/Articles/1/0/260/260065_20210701002918172.png)



在分布式与微服务场景下，我们需要解决如下问题：

在大规模分布式与微服务集群下，如何实时观测系统的整体调用链路情况。

在大规模分布式与微服务集群下，如何快速发现并定位到问题。

在大规模分布式与微服务集群下，如何尽可能精确的判断故障对系统的影响范围与影响程度。

在大规模分布式与微服务集群下，如何尽可能精确的梳理出服务之间的依赖关系，并判断出服务之间的依赖关系是否合理。

在大规模分布式与微服务集群下，如何尽可能精确的分析整个系统调用链路的性能与瓶颈点。

在大规模分布式与微服务集群下，如何尽可能精确的分析系统的存储瓶颈与容量规划。

 

分布式链路追踪（Distributed Tracing）是**一种监控和诊断复杂分布式系统性能的技术**，就是将一次分布式请求还原成调用链路，进行日志记录，性能监控并将一次分布式请求的调用情况集中展示。比如各个服务节点上的耗时、请求具体到达哪台机器上、每个服务节点的请求状态等等。

# Micrometer

https://micrometer.io/docs/tracing

![image-20240401140700200](F:\note\image\image-20240401140700200.png)